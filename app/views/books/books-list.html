<h2>
  <i class="icon book"></i>
  <translate>BOOKS</translate>
  <i class="icon add" ui-sref="admin.createBook" title="Add New Book" ng-if="vm.canAdd()"></i>
</h2>

<main>

  <aside class="books-filters">
    <books-filters
      filters="vm.filters"
      on-change="vm.onFiltersChange()"
      on-clear-filters="vm.clearFilters()"></books-filters>

    <button-go-to-top></button-go-to-top>
  </aside>

  <section class="books-list">
    <input
      type="text"
      search-input
      autofocus
      ng-model="vm.filters.searchString"
      placeholder="Search by title, accession no. and rack no."
      ng-change="vm.onSearchStringChange($event)"
      ng-model-options="{debounce: 1000}"
    >

    <aside ng-if="vm.booksCount">
      {{vm.booksCount}} Found.
    </aside>

    <div class="list">
      <book ng-repeat="book in vm.books" book="book" show-details="true" ng-class="{borrowed: book.borrowed}"></book>
    </div>

    <aside ng-if="!vm.booksCount">
      There are no books matching the filters
    </aside>

    <button class="show-more" ng-click="vm.getMoreBooks()" ng-if="!vm.allLoaded && vm.booksCount">
      Show more
    </button>

    <aside ng-if="vm.allLoaded" class="all-loaded"></aside>
  </section>

</main>
